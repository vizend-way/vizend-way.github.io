"use strict";(self.webpackChunkdocs_github_io=self.webpackChunkdocs_github_io||[]).push([[8493],{5385:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>d,default:()=>u,frontMatter:()=>s,metadata:()=>o,toc:()=>a});var t=i(4848),r=i(8453);const s={sidebar_position:3},d="Authentication and Authorize",o={id:"prologue-guide/auth",title:"Authentication and Authorize",description:"Vizend\uc758 Checkpoint \uc11c\ube44\uc2a4\uc640 Metro \uc11c\ube44\uc2a4\ub97c \uae30\ubc18\uc73c\ub85c \uc0ac\uc6a9\uc790\uc758 \uc778\uc99d \ubc0f \uc778\uac00\ub97c \ucc98\ub9ac\ud558\ub294 \ub85c\uc9c1\uc744 Prologue \uc124\uc815\uc744 \ud1b5\ud574 \uc9c0\uc6d0\ud569\ub2c8\ub2e4.",source:"@site/docs/prologue-guide/auth.md",sourceDirName:"prologue-guide",slug:"/prologue-guide/auth",permalink:"/docs/docs/prologue-guide/auth",draft:!1,unlisted:!1,editUrl:"https://github.com/vizend-way/docs/tree/main/docs/prologue-guide/auth.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"Getting Started",permalink:"/docs/docs/prologue-guide/getting-started"},next:{title:"Entity Encryption",permalink:"/docs/docs/prologue-guide/crypto"}},l={},a=[{value:"\uc124\uc815",id:"\uc124\uc815",level:2},{value:"\uae30\ubcf8 \uc778\uc99d",id:"\uae30\ubcf8-\uc778\uc99d",level:2},{value:"\uc6cc\ud06c\uc2a4\ud398\uc774\uc2a4 \uc778\uc99d",id:"\uc6cc\ud06c\uc2a4\ud398\uc774\uc2a4-\uc778\uc99d",level:2},{value:"\uad8c\ud55c \uc778\uc99d",id:"\uad8c\ud55c-\uc778\uc99d",level:2},{value:"\uc0ac\uc6a9\uc790 \ucee8\ud14d\uc2a4\ud2b8",id:"\uc0ac\uc6a9\uc790-\ucee8\ud14d\uc2a4\ud2b8",level:2},{value:"\ub0b4\ubd80 \uc11c\ube44\uc2a4 \uc778\uc99d",id:"\ub0b4\ubd80-\uc11c\ube44\uc2a4-\uc778\uc99d",level:2},{value:"JWK \ud0a4 \ubcc0\uacbd",id:"jwk-\ud0a4-\ubcc0\uacbd",level:2}];function c(e){const n={code:"code",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{id:"authentication-and-authorize",children:"Authentication and Authorize"}),"\n",(0,t.jsx)(n.p,{children:"Vizend\uc758 Checkpoint \uc11c\ube44\uc2a4\uc640 Metro \uc11c\ube44\uc2a4\ub97c \uae30\ubc18\uc73c\ub85c \uc0ac\uc6a9\uc790\uc758 \uc778\uc99d \ubc0f \uc778\uac00\ub97c \ucc98\ub9ac\ud558\ub294 \ub85c\uc9c1\uc744 Prologue \uc124\uc815\uc744 \ud1b5\ud574 \uc9c0\uc6d0\ud569\ub2c8\ub2e4."}),"\n",(0,t.jsx)(n.h2,{id:"\uc124\uc815",children:"\uc124\uc815"}),"\n",(0,t.jsx)(n.p,{children:"Prologue\ub294 \ubaa8\ub4e0 \ub4dc\ub77c\ub9c8\uc5d0 \uc801\uc6a9\ub418\ub294 \ubd80\ubd84\uc73c\ub85c \uc778\uc99d\uc5d0 \uad00\ub828\ub41c \uc18d\uc131\uc740 Checkpoint \uc11c\ube44\uc2a4\uc640 \ub9de\ucdb0 \ud0a4\ub97c \uc9c0\uc815\ud574\uc57c \ud569\ub2c8\ub2e4."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"vizend:\n  jwt-signing:\n    key-id: vizend\n    public-key: |\n      -----BEGIN RSA PUBLIC KEY-----\n      MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAtM7oO9LkkROouB+4QIj7\n      IrXNXkpOoI2MgO/NsXPM+dYb8MvagmAzBoTx03HSw62/Nm6mM1Rz+DlxddgbKCh4\n      RTNaPE1fG5kQc8hidlPfWA3XMlgGeNPWaKPZypyoQX7HnQOEPxOFOh4p71e+lDOg\n      maDuJo4IGJ//yXtToIXwMeB43tlVPC3hDVx/bcKvL5ii11pXseJU6VGN8oZzj5yZ\n      KQmUivbtZMkNy7T8xHdQoU7BUDFbxCgJEvYXcRhA/AlfQfybnkGDSp3lpzw8FC3j\n      KlfXgQdUaXWNz/B2OUb37Miaw6fVFZckRVgfLiWbe1VjCz1Fj+phh/5ic/VPEDLs\n      7QIDAQAB\n      -----END RSA PUBLIC KEY-----\n    private-key: |\n      -----BEGIN RSA PRIVATE KEY-----\n      MIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQC0zug70uSRE6i4\n      H7hAiPsitc1eSk6gjYyA782xc8z51hvwy9qCYDMGhPHTcdLDrb82bqYzVHP4OXF1\n      2BsoKHhFM1o8TV8bmRBzyGJ2U99YDdcyWAZ409Zoo9nKnKhBfsedA4Q/E4U6Hinv\n      V76UM6CZoO4mjggYn//Je1OghfAx4Hje2VU8LeENXH9twq8vmKLXWlex4lTpUY3y\n      hnOPnJkpCZSK9u1kyQ3LtPzEd1ChTsFQMVvEKAkS9hdxGED8CV9B/JueQYNKneWn\n      PDwULeMqV9eBB1RpdY3P8HY5RvfsyJrDp9UVlyRFWB8uJZt7VWMLPUWP6mGH/mJz\n      9U8QMuztAgMBAAECggEABDny6pUSfoP8YA4ZFznBzwz7XN51SeJNJrq+7uHd/c1g\n      BVKqi/zLgeCWgNgKsm7BBw4dPfAV2Yye3D+TMO7d6CuGtYf5zBIZn5nkl/n8FkQ/\n      4790Kpu0XxP3abmcOD20/59UVnTHxYpCINlcTSgLc2k0L+axhevVhY7nr0X6OEbf\n      f0/iNLfRXGAJa5+ed7fMm8t0u3as11AAGI6y9Go1NjiFkziGkJ4byPJ8HMSQXfMq\n      Uco+giuRE26lektH5UzCkZw5pnr4HO+GvhVFpmw6a5GEmoGfJqLJffJG+6ac+VcL\n      mVwzp7fn2QLQvuFKREl4bMNu2H04zwUafjM6CEeCAQKBgQDRfZvxqW0w4VFSY3PH\n      GULEKtkRI5mgPmYyDrPwkbCT6k1soB0YLQ/v0qmpGC206RhITaB+gC2DtuHOY3RP\n      MAlxPbUE6XZS0nHh8Uf8FFqs59O2ho2v2Na4qb16f5NG+RJ2aGyYpKXCcap8ZRoL\n      svUXB76g9kfdJrhsYtl4hiYuAQKBgQDc8yIz3CqGnNxSUixa5+Ayb7i1y6SirWy3\n      1UMg5IWTAkHrqUVZTw/SeJ2/cfbWhsGor5WssT4eMlyhsA6Os1a5W08pocrv3n16\n      qVlFd62G3n8keEIUfHdRPuoXzFGXFeHoS7kt8ZgetDhg7MXoVq/q8FesiXgwMv+M\n      tVeRt2ZW7QKBgQCSH2xz7zrzmmaP8kDiwnL4w+5u7wcMaBn+lpTam7SwKAFjYHeK\n      0nvIS4f+I5hWFTTT0hm9wwh8VEdDH8oUJiyf6WvnhjT7ZkD7WcJdSZFKA9Z//XC9\n      FKIJYpSA6pW/LqK7JvGAs2/PpltFs3usZ2Jfcw571e2gi46eQ4DveZsOAQKBgQCn\n      BXAUbdkDuy3dWNrIuUHEPqoNWuyQQLLPYHoHMlg64dj9EQ8oTNi0DJOKtdaXInTg\n      VCK70ZwYbY+Sdij6/FyRb5Gu8ewbWT/Xao7eMXLOYgEQi4vAOrpjg0CoTr5ajKMh\n      26QXM+r/QtLfifys/mKrIZXVCnH9VX/SWP7iWxYUnQKBgEi18rAj0gXdvBrsEGLh\n      llbGFrZUh4INlpWT0Jh5XVqq3CLA4BcN8RlpOGO5+7uYVeAOfFyyePlv01d0ikfM\n      f9+djWsFg315DB6vnshqk6b/xCHxWqFdVQw37qR6e5ghPX2QMNZUbFmq8wfAkGyP\n      4j4nddpv8biUamzJmb4Zntpl\n      -----END RSA PRIVATE KEY-----\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"vizend.jwt-signing.key-id"}),"\nJWT\uc758 \uc544\uc774\ub514 \uac12\uc774\uace0 \uae30\ubcf8\uc73c\ub85c vizend\uac00 \ub4e4\uc5b4\uac11\ub2c8\ub2e4. \ud504\ub85c\uc81d\ud2b8\uc5d0 \ub9de\uac8c BC(Bounded Context)\uc5d0 \ub9de\uac8c \uc124\uc815\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"vizend.jwt-signing.public-key"}),"\nJWT \uc0ac\uc774\ub2dd\uc744 \uc704\ud55c \uacf5\uac1c\ud0a4\ub97c \uc124\uc815\ud569\ub2c8\ub2e4. \uc774 \ubd80\ubd84\ub3c4 \ud504\ub85c\uc81d\ud2b8\uc5d0 \ub9de\uac8c \ub2e8\uc77c \ub85c\uadf8\uc778 BC \ubcc4\ub85c \uc124\uc815\ud574 \uc90d\ub2c8\ub2e4. RSA256 \uc744 \uc0ac\uc6a9\ud569\ub2c8\ub2e4."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"vizend.jwt-signing.private-key"}),"\nJWT \uc0ac\uc774\ub2dd\uc744 \uc704\ud55c \uacf5\uac1c\ud0a4\ub97c \uc124\uc815\ud569\ub2c8\ub2e4. \uc774 \ubd80\ubd84\ub3c4 \ud504\ub85c\uc81d\ud2b8\uc5d0 \ub9de\uac8c \ub2e8\uc77c \ub85c\uadf8\uc778 BC \ubcc4\ub85c \uc124\uc815\ud574 \uc90d\ub2c8\ub2e4. RSA256 \uc744 \uc0ac\uc6a9\ud569\ub2c8\ub2e4."]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"\uae30\ubcf8-\uc778\uc99d",children:"\uae30\ubcf8 \uc778\uc99d"}),"\n",(0,t.jsxs)(n.p,{children:["\ub4dc\ub77c\ub9c8\uc5d0\uc11c\ub294 \uac01 Command\uc640 Query\uc758 Resource (REST API)\uac00 Public\uc774 \uc544\ub2d0 \uacbd\uc6b0 \uae30\ubcf8 \uc778\uc99d\uc744 \uc218\ud589\ud569\ub2c8\ub2e4. Checkpoint \uc11c\ube44\uc2a4\ub97c \ud1b5\ud574 \ubc1c\uae09\ubc1b\uc740 JWT\ub97c HTTP Header\uc5d0 \ub123\uc5b4 \uc218\ud589\ud569\ub2c8\ub2e4. \uc774\ub807\uac8c HTTP Header\uc758 ",(0,t.jsx)(n.code,{children:"Authorization"})," \uc5d0 \ud3ec\ud568\ub41c Bearer \ud1a0\ud070 \uc0ac\uc774\ub2dd \ube14\ub7ed\uc744 \uac80\uc99d\ud558\uace0 \ud1a0\ud070\uc758 \ub9cc\ub8cc \uc2dc\uac04\uc744 \ud655\uc778\ud569\ub2c8\ub2e4. \uc774 \uc911\uc5d0 \ub9de\uc9c0 \uc54a\ub294 \ubd80\ubd84\uc774 \uc788\uc744 \uacbd\uc6b0 ",(0,t.jsx)(n.code,{children:"401 Unauthorized"})," \uc624\ub958\ub97c \ubc1c\uc0dd\uc2dc\ud0a4\uace0 \uc811\uadfc\uc744 \ucc28\ub2e8\ud569\ub2c8\ub2e4. \uae30\ubcf8 \uc778\uc99d\uc774 \uc644\ub8cc\ub418\uc9c0 \uc54a\uc744 \uacbd\uc6b0 \ub4dc\ub77c\ub9c8\uc758 Resource (REST API)\uc5d0 \uc811\uadfc\ub418\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."]}),"\n",(0,t.jsxs)(n.p,{children:["\uc778\uc99d\uc744 \ud558\uc9c0 \uc54a\ub294 URL\uc744 \uc124\uc815\uc73c\ub85c \ucd94\uac00\ud558\ub824\uba74 ",(0,t.jsx)(n.code,{children:"vizend.prologue.permit-all-ant-matchers"})," \uc124\uc815\uc5d0 URL \ubaa9\ub85d\uc744 Ant Matcher \ud615\uc2dd\uc73c\ub85c \ucd94\uac00\ud574 \uc90d\ub2c8\ub2e4. \ub610\ub294 Resource, Command, Query\uc5d0 ",(0,t.jsx)(n.code,{children:"@AuthorizedRole(isPublic = true)"})," \ub97c \uc0ac\uc6a9\ud574\ub3c4 \ub429\ub2c8\ub2e4."]}),"\n",(0,t.jsx)("aside",{children:(0,t.jsx)(n.p,{children:"\ud83d\udca1 \uc778\uc99d \uc5c6\uc774 \uc811\uadfc\ud560 \uacbd\uc6b0 \ud574\ub2f9 \uc694\uccad\uc5d0\uc11c\ub294 \uc0ac\uc6a9\uc790 Context\ub97c \ub9cc\ub4e4\uc9c0 \uc54a\uae30 \ub54c\ubb38\uc5d0 \uc0ac\uc6a9\uc790 \uac1c\uc778\uc744 \uc2dd\ubcc4\uc744 \ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."})}),"\n",(0,t.jsx)(n.h2,{id:"\uc6cc\ud06c\uc2a4\ud398\uc774\uc2a4-\uc778\uc99d",children:"\uc6cc\ud06c\uc2a4\ud398\uc774\uc2a4 \uc778\uc99d"}),"\n",(0,t.jsx)(n.p,{children:"Vizend\uc758 \ub4dc\ub77c\ub9c8\uc5d0\uc11c \uc0ac\uc6a9\uc790\ub294 Stage\ub77c\ub294 \uc6cc\ud06c\uc2a4\ud398\uc774\uc2a4\uc5d0 \ub4e4\uc5b4\uc640 Actor\ub77c\ub294 \ud14c\ub10c\ud2b8\ub85c \uc2dd\ubcc4\ub429\ub2c8\ub2e4. \uc0ac\uc6a9\uc790\ub294 \uc6cc\ud06c\uc2a4\ud398\uc774\uc2a4\uc5d0 \ub300\ud55c \uad8c\ud55c\uc744 \ubd80\uc5ec\ubc1b\uace0 \ub85c\uadf8\uc778 \uc2dc \ud1a0\ud070\uc5d0 \ud574\ub2f9 \uc815\ubcf4\ub97c \ud3ec\ud568\ud569\ub2c8\ub2e4. \uc544\ub798\ub294 \uc0ac\uc6a9\uc790\uac00 \ub85c\uadf8\uc778 \ud588\uc744 \ub54c \ubc1c\uae09\ubc1b\uc740 Access Token\uc758 \uc608\uc785\ub2c8\ub2e4."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"eyJraWQiOiJ2aXplbmQiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJzYmxlZSIsImlzcyI6Imh0dHBzOi8vbGFiLnZpemVuZC5pbyIsImRpc3BsYXlfbmFtZSI6IuydtOyKueu0iSIsImF1ZCI6InZpemVuZCIsInBhc3N3b3JkIjoiIiwibmJmIjoxNzE1MTQ0NjYwLCJzY29wZSI6WyJjaXRpemVuIl0sImF0dHJpYnV0ZXMiOnsiZGV2aWNlX2lwIjoiMjExLjE5My4xOTQuMiIsImNpdGl6ZW5faWQiOiIyQDE6MSIsImNpdGl6ZW5fc2Vzc2lvbl9pZCI6ImUwQndoMHQ1a19tODdoU1ZLZS1...(omit)...tLCblzNQGdHw9xI3vdOGlw8oJQG_xjHEXowHBfV9G_nZ5p2jxOWCqNZC1mTmqpQcbf61uEGJCBgfh7eJpvuZOYBXzln_4Y5CsG5xC6BUerVsk1xhssPJfaU23T3_8rM52L4mFlpmsqtrqNxf4-W1UDd7pTb1MVyVW1-RsdDG-CvtiiV_fsUONNgA2X4n_oqfz1l8c39RsGuy65XxU9gVGO08P44jy2pntKhfSS09ajE0z1BcJAKULzZZALCdQr-95b9SVKd3gQEbBZpdI0gHS9Cz6nQGTFYPhoUC51VMaz3svE_8Zf-zARYOjAVgF0_4Gw\n"})}),"\n",(0,t.jsx)(n.p,{children:"\uc774\uac83\uc744 JWT \ubc29\uc2dd\uc73c\ub85c \ud480\uc5b4\ubcf4\uba74 \ub2e4\uc74c\uacfc \uac19\uc740 \ub0b4\uc6a9\uc774 \ub098\uc635\ub2c8\ub2e4."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'HEADER\n{\n  "kid": "vizend",\n  "alg": "RS256"\n}\n\nPAYLOAD\n{\n  "sub": "user",\n  "iss": "https://xxx.vizend.io",\n  "display_name": "User",\n  "aud": "vizend",\n  "password": "",\n  "nbf": 1715144660,\n  "scope": [\n    "citizen"\n  ],\n  "attributes": {\n    "device_ip": "211.x.x.x",\n    "citizen_id": "2@1:1",\n    "citizen_session_id": "e0Bwh0t5k_m87hSVKe-JlF",\n    "location": "South Korea:Seoul:Seoul",\n    "pavilion_id": "1:1",\n    "cineroom_ids": [\n      "1:1:2",\n      "1:1:1",\n      "1:1:7",\n      "1:1:4"\n    ],\n    "citizen_user_id": "fRSb0okiQV79r3pIGCrmkL"\n  },\n  "exp": 1715145860,\n  "iat": 1715144660,\n  "jti": "f0p_b66jQ9Badmn8aOwvVU",\n  "email": "user@vizend.io",\n  "username": "user"\n}\n\nVERIFY SIGNATURE\nRSASHA256(\n  base64UrlEncode(header) + "." +\n  base64UrlEncode(payload),\n  (Public Key in SPKI, PKCS #1, X.509 Certificate, or JWK string format.),\n  (Private Key in PKCS #8, PKCS #1, or JWK string format. The key never \n   leaves your browser.)\n)\n'})}),"\n",(0,t.jsx)(n.p,{children:"\ub85c\uadf8\uc778\ud55c \uc0ac\uc6a9\uc790\uac00 \uc11c\ubc84\ub85c REST API \ubc29\uc2dd\uc73c\ub85c Command \ub610\ub294 Query\ub97c \uc694\uccad\ud560 \ub54c HTTP Header\uc5d0\ub294 \ub2e4\uc74c \ub450 \ub0b4\uc6a9\uc774 \ubc18\ub4dc\uc2dc \ud3ec\ud568\ub418\uc5b4 \uc788\uc5b4\uc57c \ud569\ub2c8\ub2e4."}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"\ud5e4\ub354"}),(0,t.jsx)(n.th,{children:"\uac12"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Authorization"}),(0,t.jsx)(n.td,{children:"Bearer eyJraWQiOiJ2aXplb\u2026(Omit)\u20268Zf-zARYOjAVgF0_4Gw"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"actorId"}),(0,t.jsx)(n.td,{children:"2@1:1:2-1"})]})]})]}),"\n",(0,t.jsxs)(n.p,{children:["\uc0ac\uc6a9\uc790\uac00 \uad8c\ud55c\uc744 \ubd80\uc5ec\ubc1b\uc740 \uc6cc\ud06c\uc2a4\ud398\uc774\uc2a4\ub294 Station - Square - Pavilion - Cineroom - Stage \uad6c\uc870\uc5d0\uc11c Cineroom\uc774 \uae30\uc900\uc785\ub2c8\ub2e4. \uc0ac\uc6a9\uc790 \uc694\uccad\uc740 Cineroom \ud558\uc704 Stage\ub97c \uc9c0\uc815\ud574 \uc811\uadfc\ud558\uace0 \ud1a0\ud070\uc758 ",(0,t.jsx)(n.code,{children:"cineroom_ids"})," \ubc30\uc5f4\uc758 Cineroom \uae30\uc900\uc73c\ub85c \uc811\uadfc\uc744 \uac80\uc99d\ud574 \uc62c\ubc14\ub974\uc9c0 \uc54a\uc744 \uacbd\uc6b0 ",(0,t.jsx)(n.code,{children:"403 Forbidden"})," \ucf54\ub4dc\ub97c \ubc18\ud658\ud558\uace0 \uc811\uadfc\uc744 \uc81c\ud55c\ud569\ub2c8\ub2e4."]}),"\n",(0,t.jsx)(n.h2,{id:"\uad8c\ud55c-\uc778\uc99d",children:"\uad8c\ud55c \uc778\uc99d"}),"\n",(0,t.jsxs)(n.p,{children:["\uad8c\ud55c\uc740 Actor\uac00 \ud574\ub2f9 Stage\uc5d0\uc11c \ubd80\uc5ec\ubc1b\uc740 \ub4dc\ub77c\ub9c8\uc758 \uad8c\ud55c \ubb38\uc790\uc5f4\uc744 \uc758\ubbf8\ud569\ub2c8\ub2e4. Prologue\uc5d0\uc11c\ub294 Metro \ub0b4\ubd80 \uc11c\ube44\uc2a4\ub97c \ud1b5\ud574 \uc0ac\uc6a9\uc790\uc758 \uc6cc\ud06c\uc2a4\ud398\uc774\uc2a4 \ub0b4 \uad8c\ud55c\uc744 \ud655\uc778\ud574 Request Context\uc5d0 \ub123\uc5b4 \ub193\uc2b5\ub2c8\ub2e4. \uad8c\ud55c\uc744 \uc801\uc808\ud788 \ucc98\ub9ac\ud588\uc744 \uacbd\uc6b0 \uc694\uccad\ub418\ub294 Resource\uc758 Command, Query \ubcc4 \ucc98\ub9ac \uad8c\ud55c\uc744 \ud655\uc778\ud569\ub2c8\ub2e4. Vizend Studio\ub97c \ud1b5\ud574 Feature\ub97c \uc0dd\uc131\ud560 \uacbd\uc6b0 \ub2e4\uc74c\uacfc \uac19\uc774 ",(0,t.jsx)(n.code,{children:"@AuthorizedRole"})," \ud0dc\uadf8\ub85c \uc9c0\uc815\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:"@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\n@AuthorizedRole({BuddyRole.Director, BuddyRole.Admin, BuddyRole.Manager})\npublic class DeleteIssueCommand extends CommandRequest {\n    //\n    String issueId;\n    String projectName;\n    // ...\n}\n"})}),"\n",(0,t.jsx)(n.p,{children:"Command\uc640 Query\uac00 \uc544\ub2cc Resource \uc790\uccb4\uc5d0 \uba85\uc2dc\ud560 \uc218\ub3c4 \uc788\uc2b5\ub2c8\ub2e4. \uc774 \ubd80\ubd84\uc740 Studio\uc5d0\uc11c \uc790\ub3d9\uc73c\ub85c \ucc98\ub9ac\ud558\uc9c0\ub294 \uc54a\uace0 \uc0ac\uc6a9\uc790\uac00 \uac1c\ubcc4 \uc124\uc815\ud560 \uc218\ub3c4 \uc788\uc2b5\ub2c8\ub2e4.  \ud074\ub798\uc2a4\uc640 \uba54\uc18c\ub4dc \ub458 \ub2e4 \uc124\uc815\ud560 \uc218 \uc788\uace0 \uac01\uac01 \uc138\ubd80 \ub808\ubca8\ub85c Override \ub429\ub2c8\ub2e4. \ub2e4\uc74c\uc740 \uc608\uc2dc\uc785\ub2c8\ub2e4."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:'@RestController\n@RequestMapping("/feature/buddy.issue")\n@RequiredArgsConstructor\n@AuthorizedRole({BuddyRole.Admin, BuddyRole.Manager, BuddyRole.User})\npublic class IssueOptimizationFlowResource implements IssueOptimizationFlowFacade {\n    /* Gen by Vizend Studio v5.1.0 */\n    private final IssueOptimizationFlow issueOptimizationFlow;\n\n    @Override\n    @PostMapping("/register-issue/command")\n    @AuthorizedRole(isPublic = true)\n    public CommandResponse registerIssue(@RequestBody RegisterIssueCommand command) {\n        /* Gen by vizend Studio v4.1.0 */\n        command.validate();\n        List<IssueCdo> issueList = command.getIssueList();\n        List<String> entityIds = issueOptimizationFlow.registerIssue(issueList);\n        command.setResponse(entityIds);\n        return command.getResponse();\n    }\n    \n    // ...\n}\n'})}),"\n",(0,t.jsxs)(n.p,{children:["\uad8c\ud55c \uc778\uc99d\ub3c4 \uad8c\ud55c\uc774 \uc5c6\uc744 \uacbd\uc6b0 ",(0,t.jsx)(n.code,{children:"403 Forbidden"})," \ucf54\ub4dc\ub97c \ubc18\ud658\ud558\uace0 \uc811\uadfc\uc744 \uc81c\ud55c\ud569\ub2c8\ub2e4."]}),"\n",(0,t.jsx)(n.h2,{id:"\uc0ac\uc6a9\uc790-\ucee8\ud14d\uc2a4\ud2b8",children:"\uc0ac\uc6a9\uc790 \ucee8\ud14d\uc2a4\ud2b8"}),"\n",(0,t.jsxs)(n.p,{children:["\uc0ac\uc6a9\uc790\uac00 \uc811\uadfc\ud560 \uacbd\uc6b0 \uc5b4\ub5a4 \uc0ac\uc6a9\uc790\uac00 \uc5b4\ub290 \uacf5\uac04\uc5d0 \uc811\uadfc\ud574 \uc694\uccad\uc744 \ubcf4\ub0c8\ub294\uc9c0 \uac00\uc838\uc62c \uc218 \uc788\ub294 ",(0,t.jsx)(n.code,{children:"StageContext"})," \uac1d\uccb4\ub97c \uc81c\uacf5\ud569\ub2c8\ub2e4."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:"StageRequest stageRequest = StageContext.get();\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"StageRequest"})," \uc5d0\uc11c\ub294 \ub2e4\uc74c\uacfc \uac19\uc740 \uc815\ubcf4\ub97c \uac00\uc838\uc62c \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uc811\uadfc \uc0ac\uc6a9\uc790 \uc815\ubcf4\ub85c \ucc98\ub9ac\ud574\uc57c\ub418\ub294 \ub85c\uc9c1\uc5d0\uc11c \ud65c\uc6a9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:"public class StageRequest implements JsonSerializable {\n    //\n    private String username;\n    private UserType userType;\n    private String displayName;\n    private String email;\n    private boolean enabled;\n    private String actorId;\n    private String pavilionId;\n    private String osid;\n    private String usid;\n    private String kollection;\n    private String drama;\n    private List<String> cineroomIds;\n    private List<String> roles;\n    private Map<String, Object> attributes;\n    \n    // ...\n}\n"})}),"\n",(0,t.jsx)(n.h2,{id:"\ub0b4\ubd80-\uc11c\ube44\uc2a4-\uc778\uc99d",children:"\ub0b4\ubd80 \uc11c\ube44\uc2a4 \uc778\uc99d"}),"\n",(0,t.jsx)(n.p,{children:"\ub9c8\uc774\ud06c\ub85c\uc11c\ube44\uc2a4\uc5d0\uc11c\ub294 \uc774\ubca4\ud2b8\ub97c \ud1b5\ud55c \ud611\uc5c5 \uc774\uc678\uc5d0 \uc11c\ubc84 \uc0ac\uc774\uc758 API \ud638\ucd9c\uc744 \uae30\ubc18\uc73c\ub85c \ud611\uc5c5\ud560 \uc218\ub3c4 \uc788\uc2b5\ub2c8\ub2e4. \ub0b4\ubd80 \uc11c\ube44\uc2a4\uc5d0\uc11c \ud638\ucd9c \uc2dc \uc678\ubd80\uc5d0\uc11c\uc758 \ubd88\ubc95 \uc811\uadfc\uc744 \ucc28\ub2e8\ud558\uae30 \uc704\ud574 \ub0b4\ubd80 \uc11c\ube44\uc2a4 \uc778\uc99d \ud1a0\ud070\uc744 \uc0ac\uc6a9\ud569\ub2c8\ub2e4. \uc0ac\uc6a9\uc790\uc640 \ub2e4\ub974\uac8c \uc774 \ubd80\ubd84\uc740 Internal Token\uc774\ub77c\uace0 \ud569\ub2c8\ub2e4."}),"\n",(0,t.jsx)(n.p,{children:"\ub0b4\ubd80 \uc11c\ube44\uc2a4 \uc778\uc99d\uc744 \uc0ac\uc6a9\ud558\ub824\uba74 Prologue\uc758 \ub2e4\uc74c \uc124\uc815\uc774 \ub418\uc5b4 \uc788\uc5b4\uc57c \ud569\ub2c8\ub2e4."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"vizend:\n  prologue:\n    internal-auth:\n      username: ${spring.application.name}\n      password: my-internal-secret\n      client:\n        id: vizend\n        secret: my-secret\n      rest:\n        base-url: http://checkpoint:8080\n"})}),"\n",(0,t.jsxs)(n.p,{children:["\uc704 \uc124\uc815 \ub0b4\uc6a9\uc744 \uae30\uc900\uc73c\ub85c \uc11c\ube44\uc2a4\uac00 \uc2dc\uc791\ub418\uba74 Checkpoint \uc11c\ube44\uc2a4\uc5d0 Internal Token\uc744 \ubc1c\uae09 \ubc1b\uc2b5\ub2c8\ub2e4. REST API\ub85c \ub0b4\ubd80 \uc11c\ube44\uc2a4\ub97c \ud638\ucd9c\ud558\uba74 \uc0c1\ub300\ud3b8 \uc11c\ube44\uc2a4\uc5d0\uc11c\ub294 ",(0,t.jsx)(n.code,{children:"vizend.prologue.internal-auth.username"})," \uc124\uc815\uac12\uc744 \uc778\uc2dd\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uc774\ub97c \ud1b5\ud574 \uc5ec\ub7ec \ub0b4\ubd80 \uc11c\ube44\uc2a4 \ud611\uc5c5\uc744 \ud1b5\ud574 \uc6d0\ud558\ub294 \ube44\uc9c0\ub2c8\uc2a4 \ub85c\uc9c1\uc744 \uad6c\uc131\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n",(0,t.jsx)(n.h2,{id:"jwk-\ud0a4-\ubcc0\uacbd",children:"JWK \ud0a4 \ubcc0\uacbd"}),"\n",(0,t.jsxs)(n.p,{children:["JWT \uc0ac\uc774\ub2dd \ud0a4\ub294 \ub2e4\uc74c\uacfc \uac19\uc774 Prologue\ub97c \ud3ec\ud568\ud55c \ud504\ub85c\uc81d\ud2b8\uc5d0\uc11c ",(0,t.jsx)(n.code,{children:"JwkTools"})," \ud074\ub798\uc2a4\ub97c \ud1b5\ud574 \uc2e0\uaddc\ub85c \uc0dd\uc131\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. Checkpoint \uc11c\ube44\uc2a4\uc640 \uc774\uc640 \uac19\uc774 \uc11c\ube44\uc2a4\ub418\ub294 \ub2e4\ub978 \uc11c\ube44\uc2a4 \uac04\uc758 \uc124\uc815\uc740 \ub3d9\uc77c\ud574\uc57c \ud569\ub2c8\ub2e4. \uadf8\ub807\uc9c0 \uc54a\uc744 \uacbd\uc6b0 \uc0ac\uc774\ub2dd \uc624\ub958\uac00 \ubc1c\uc0dd\ud558\ub2c8 \ubc18\ub4dc\uc2dc \ub3d9\uc77c\ud574\uc57c\ud558\uace0 \uc678\ubd80\ub85c \uc720\ucd9c\ub418\uc9c0 \uc54a\ub3c4\ub85d \uc8fc\uc758\ud574\uc57c \ud569\ub2c8\ub2e4. K8S \ud658\uacbd \ub4f1\uc5d0\uc11c\ub294 \uc774\ub97c Secret \uc800\uc7a5\uc18c\uc5d0 \ubd84\ub9ac\ud574 \uc0ac\uc6a9\ud574\uc57c \ud569\ub2c8\ub2e4."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'$ java \\\n      -cp "prologue-6.x.x.jar:accent-6.x.x.jar;nimbus-jose-jwt-x.x.x.jar" \\\n      io.vizend.prologue.security.auth.jwt.JwkTools\n\nRSA Key\nKey Id      = 4ZB0yGnPkj1aOg1NSUzV4Y\nPublic Key  =\n-----BEGIN RSA PUBLIC KEY-----\nMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAtM7oO9LkkROouB+4QIj7\nIrXNXkpOoI2MgO/NsXPM+dYb8MvagmAzBoTx03HSw62/Nm6mM1Rz+DlxddgbKCh4\nRTNaPE1fG5kQc8hidlPfWA3XMlgGeNPWaKPZypyoQX7HnQOEPxOFOh4p71e+lDOg\nmaDuJo4IGJ//yXtToIXwMeB43tlVPC3hDVx/bcKvL5ii11pXseJU6VGN8oZzj5yZ\nKQmUivbtZMkNy7T8xHdQoU7BUDFbxCgJEvYXcRhA/AlfQfybnkGDSp3lpzw8FC3j\nKlfXgQdUaXWNz/B2OUb37Miaw6fVFZckRVgfLiWbe1VjCz1Fj+phh/5ic/VPEDLs\n7QIDAQAB\n-----END RSA PUBLIC KEY-----\n\nPrivate Key =\n-----BEGIN RSA PRIVATE KEY-----\nMIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQC0zug70uSRE6i4\nH7hAiPsitc1eSk6gjYyA782xc8z51hvwy9qCYDMGhPHTcdLDrb82bqYzVHP4OXF1\n2BsoKHhFM1o8TV8bmRBzyGJ2U99YDdcyWAZ409Zoo9nKnKhBfsedA4Q/E4U6Hinv\nV76UM6CZoO4mjggYn//Je1OghfAx4Hje2VU8LeENXH9twq8vmKLXWlex4lTpUY3y\nhnOPnJkpCZSK9u1kyQ3LtPzEd1ChTsFQMVvEKAkS9hdxGED8CV9B/JueQYNKneWn\nPDwULeMqV9eBB1RpdY3P8HY5RvfsyJrDp9UVlyRFWB8uJZt7VWMLPUWP6mGH/mJz\n9U8QMuztAgMBAAECggEABDny6pUSfoP8YA4ZFznBzwz7XN51SeJNJrq+7uHd/c1g\nBVKqi/zLgeCWgNgKsm7BBw4dPfAV2Yye3D+TMO7d6CuGtYf5zBIZn5nkl/n8FkQ/\n4790Kpu0XxP3abmcOD20/59UVnTHxYpCINlcTSgLc2k0L+axhevVhY7nr0X6OEbf\nf0/iNLfRXGAJa5+ed7fMm8t0u3as11AAGI6y9Go1NjiFkziGkJ4byPJ8HMSQXfMq\nUco+giuRE26lektH5UzCkZw5pnr4HO+GvhVFpmw6a5GEmoGfJqLJffJG+6ac+VcL\nmVwzp7fn2QLQvuFKREl4bMNu2H04zwUafjM6CEeCAQKBgQDRfZvxqW0w4VFSY3PH\nGULEKtkRI5mgPmYyDrPwkbCT6k1soB0YLQ/v0qmpGC206RhITaB+gC2DtuHOY3RP\nMAlxPbUE6XZS0nHh8Uf8FFqs59O2ho2v2Na4qb16f5NG+RJ2aGyYpKXCcap8ZRoL\nsvUXB76g9kfdJrhsYtl4hiYuAQKBgQDc8yIz3CqGnNxSUixa5+Ayb7i1y6SirWy3\n1UMg5IWTAkHrqUVZTw/SeJ2/cfbWhsGor5WssT4eMlyhsA6Os1a5W08pocrv3n16\nqVlFd62G3n8keEIUfHdRPuoXzFGXFeHoS7kt8ZgetDhg7MXoVq/q8FesiXgwMv+M\ntVeRt2ZW7QKBgQCSH2xz7zrzmmaP8kDiwnL4w+5u7wcMaBn+lpTam7SwKAFjYHeK\n0nvIS4f+I5hWFTTT0hm9wwh8VEdDH8oUJiyf6WvnhjT7ZkD7WcJdSZFKA9Z//XC9\nFKIJYpSA6pW/LqK7JvGAs2/PpltFs3usZ2Jfcw571e2gi46eQ4DveZsOAQKBgQCn\nBXAUbdkDuy3dWNrIuUHEPqoNWuyQQLLPYHoHMlg64dj9EQ8oTNi0DJOKtdaXInTg\nVCK70ZwYbY+Sdij6/FyRb5Gu8ewbWT/Xao7eMXLOYgEQi4vAOrpjg0CoTr5ajKMh\n26QXM+r/QtLfifys/mKrIZXVCnH9VX/SWP7iWxYUnQKBgEi18rAj0gXdvBrsEGLh\nllbGFrZUh4INlpWT0Jh5XVqq3CLA4BcN8RlpOGO5+7uYVeAOfFyyePlv01d0ikfM\nf9+djWsFg315DB6vnshqk6b/xCHxWqFdVQw37qR6e5ghPX2QMNZUbFmq8wfAkGyP\n4j4nddpv8biUamzJmb4Zntpl\n-----END RSA PRIVATE KEY-----\n\nVerify decoded key pair: public = true, private = true\n'})})]})}function u(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>d,x:()=>o});var t=i(6540);const r={},s=t.createContext(r);function d(e){const n=t.useContext(s);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:d(e.components),t.createElement(s.Provider,{value:n},e.children)}}}]);