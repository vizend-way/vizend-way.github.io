"use strict";(self.webpackChunkdocs_github_io=self.webpackChunkdocs_github_io||[]).push([[9948],{5199:(e,n,l)=>{l.r(n),l.d(n,{assets:()=>o,contentTitle:()=>r,default:()=>h,frontMatter:()=>a,metadata:()=>t,toc:()=>c});var s=l(4848),i=l(8453);const a={sidebar_position:5},r="Lingo Support",t={id:"Lingo",title:"Lingo Support",description:"Overview",source:"@site/docs/Lingo.md",sourceDirName:".",slug:"/Lingo",permalink:"/docs/Lingo",draft:!1,unlisted:!1,editUrl:"https://gitlab.com/vizend/docs/-/edit/main/docs/Lingo.md",tags:[],version:"current",sidebarPosition:5,frontMatter:{sidebar_position:5},sidebar:"tutorialSidebar",previous:{title:"Service User",permalink:"/docs/checkpoint-guide/service-user"}},o={},c=[{value:"Overview",id:"overview",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"1. Label Management",id:"1-label-management",level:2},{value:"Domains",id:"domains",level:3},{value:"<code>KollexLabel</code>",id:"kollexlabel",level:4},{value:"<code>KollexLangLabel</code>",id:"kollexlanglabel",level:4},{value:"<code>BaseLabel</code>",id:"baselabel",level:4},{value:"<code>LabelBook</code>",id:"labelbook",level:4},{value:"Features",id:"features",level:3},{value:"\ud83d\udd0d Filter KollexLangLabels",id:"-filter-kollexlanglabels",level:4},{value:"\u2795 Add Labels",id:"-add-labels",level:4},{value:"\u270f\ufe0f Edit Labels",id:"\ufe0f-edit-labels",level:4},{value:"\ud83d\uddd1\ufe0f Delete Labels",id:"\ufe0f-delete-labels",level:4},{value:"2. User Language Setup",id:"2-user-language-setup",level:2},{value:"3. Fetch &amp; Store Labels",id:"3-fetch--store-labels",level:2},{value:"4. Using Accent Util",id:"4-using-accent-util",level:2},{value:"Known Issues",id:"known-issues",level:2},{value:"\u2757 <code>l()</code> Limitations",id:"-l-limitations",level:3},{value:"\u2705 Summary",id:"-summary",level:2}];function d(e){const n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"lingo-support",children:"Lingo Support"}),"\n",(0,s.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,s.jsxs)(n.p,{children:["The Lingo service in the Vizend platform handles multilingual label management across applications using the ",(0,s.jsx)(n.code,{children:"@vizendjs/vizend-layout"})," package."]}),"\n",(0,s.jsx)(n.p,{children:"To use Lingo, your application should follow this flow:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Manage Labels"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Set User Language"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Fetch and Store Labels in Local Storage"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Use Accent Util for Label Transformation"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"\ud83d\udcac These steps correspond to a full cycle of multilingual handling in the Vizend platform. Each step should be correctly placed in the app lifecycle for full functionality."}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,s.jsx)(n.p,{children:"To use the Lingo service, you must include the following dependency:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'\n{\n\n  "dependencies": {\n\n    "@vizendjs/vizend-layout": "7.0.14-35"\n\n  }\n\n}\n\n'})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"\u2728 Make sure to use version 7.0.14-35 or higher for compatibility."}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"1-label-management",children:"1. Label Management"}),"\n",(0,s.jsxs)(n.p,{children:["Label management happens via the ",(0,s.jsx)(n.a,{href:"https://lab.vizend.io/metropolis/config/lingo",children:"Metro Lingo Configuration page"}),", where users define keys and multilingual values for each Kollex."]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"domains",children:"Domains"}),"\n",(0,s.jsx)(n.h4,{id:"kollexlabel",children:(0,s.jsx)(n.code,{children:"KollexLabel"})}),"\n",(0,s.jsx)(n.p,{children:"The core domain for label definitions:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"\npublic class KollexLabel extends StageEntity {\n\n    private String labelKey;\n\n    private Map<String, String> langLabels;\n\n    private String kollexId;\n\n    private String pavilionId;\n\n}\n\n"})}),"\n",(0,s.jsx)(n.h4,{id:"kollexlanglabel",children:(0,s.jsx)(n.code,{children:"KollexLangLabel"})}),"\n",(0,s.jsx)(n.p,{children:"Used for queries in the list view, tied to specific languages."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"\npublic class KollexLangLabel extends StageEntity implements QueryModel {\n\n    private String labelKey;\n\n    private String langCode;\n\n    private String langLabel;\n\n    private String kollexId;\n\n    private String kollexLabelId;\n\n    private String pavilionId;\n\n}\n\n"})}),"\n",(0,s.jsx)(n.h4,{id:"baselabel",children:(0,s.jsx)(n.code,{children:"BaseLabel"})}),"\n",(0,s.jsx)(n.p,{children:"Fallback labels shared across Kollexes."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"\npublic class BaseLabel extends StageEntity {\n\n    private String labelKey;\n\n    private Map<String, String> langLabels;\n\n    private String pavilionId;\n\n}\n\n"})}),"\n",(0,s.jsx)(n.h4,{id:"labelbook",children:(0,s.jsx)(n.code,{children:"LabelBook"})}),"\n",(0,s.jsx)(n.p,{children:"Maintains ID sequences for other label domains:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"\npublic class LabelBook extends StageEntity {\n\n    private int baseLabelSequence;\n\n    private int kollexLabelSequence;\n\n}\n\n"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"\ud83c\udf10 Each Pavilion (company) is assigned a single LabelBook to generate consistent IDs across labels."}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"features",children:"Features"}),"\n",(0,s.jsx)(n.h4,{id:"-filter-kollexlanglabels",children:"\ud83d\udd0d Filter KollexLangLabels"}),"\n",(0,s.jsx)(n.p,{children:"You can filter by:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"langCode"})," (required)"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"kollexId"})," (optional)"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"labelKey"})," (optional)"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"langLabel"})," (optional)"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"pavilionId"})," (required)"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"\ud83c\udf10 Filtering in the List page enables quick multilingual content queries."}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h4,{id:"-add-labels",children:"\u2795 Add Labels"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Single Add"}),': Use "Add Label" in the list page. If a matching BaseLabel exists, it auto-fills values.']}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"\ud83d\ude80Steps:"}),"\n"]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Select a Kollex"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.ol,{start:"2",children:["\n",(0,s.jsx)(n.li,{children:"Enter the label key"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.ol,{start:"3",children:["\n",(0,s.jsx)(n.li,{children:"Click \u201cFind Base\u201d to auto-fill translations (optional)"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.ol,{start:"4",children:["\n",(0,s.jsx)(n.li,{children:"Modify or complete translations and click Confirm"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Bulk Add"}),": Upload multiple labels via CSV or JSON files."]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"\ud83d\ude80 Steps:"}),"\n"]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Choose a data format (CSV/JSON)"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.ol,{start:"2",children:["\n",(0,s.jsx)(n.li,{children:"Select the Kollex"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.ol,{start:"3",children:["\n",(0,s.jsx)(n.li,{children:"Upload file or paste formatted data"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.ol,{start:"4",children:["\n",(0,s.jsx)(n.li,{children:"Click Confirm"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h4,{id:"\ufe0f-edit-labels",children:"\u270f\ufe0f Edit Labels"}),"\n",(0,s.jsx)(n.p,{children:"Click a label row to open the side panel. You can:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Auto-fill from BaseLabel"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Modify and save translations"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"\ud83d\udcd8 Use the \u201cFind Base\u201d option here as well for existing keys."}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h4,{id:"\ufe0f-delete-labels",children:"\ud83d\uddd1\ufe0f Delete Labels"}),"\n",(0,s.jsx)(n.p,{children:"Click the trash icon on a label row to delete."}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"\ud83d\udcd8 This action removes the associated KollexLabel."}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"2-user-language-setup",children:"2. User Language Setup"}),"\n",(0,s.jsx)(n.p,{children:"Set the user's language using LocalStorage on app load:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:'\nuseEffect(() => {\n\n  const language = localStorage.getItem("vizend.language");\n\n  if (!language) {\n\n    localStorage.setItem("vizend.language", "english");\n\n  }\n\n}, []);\n\n'})}),"\n",(0,s.jsx)(n.p,{children:"Update language on user change:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"\nconst changeLanguage = (language: string) => {\n\n  localStorage.setItem('vizend.language', language);\n\n  window.location.reload();\n\n};\n\n"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"\ud83d\udcd8 Be sure to force a page refresh, as language changes in localStorage are not detected automatically."}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"3-fetch--store-labels",children:"3. Fetch & Store Labels"}),"\n",(0,s.jsxs)(n.p,{children:["Use ",(0,s.jsx)(n.code,{children:"initializeI18nResource()"})," from ",(0,s.jsx)(n.code,{children:"@vizendjs/lingo-view"})," in your shared layout:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"\nconst { initializeI18nResource } = useLingo(context);\n\nconst [loadLanguage, setLoadLanguage] = useState(false);\n\n\n\nuseEffect(() => {\n\n  if (!!context) {\n\n    initializeI18nResource().finally(() => setLoadLanguage(true));\n\n  }\n\n}, [context]);\n\n\n\nreturn loadLanguage && <YourComponent />;\n\n"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:["\ud83d\udcd8 This is typically done in a layout file like ",(0,s.jsx)(n.code,{children:"DefaultLayout.tsx"})," that wraps your app."]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"4-using-accent-util",children:"4. Using Accent Util"}),"\n",(0,s.jsxs)(n.p,{children:["Use ",(0,s.jsx)(n.code,{children:"l()"})," to translate label keys:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"\nimport { l } from \"@vizendjs/accent\";\n\n\n\nl('Hi'); // \"\uc548\ub155\"\n\nl('Hello, my name is {name}.', {name: '\ub125\uc2a4\ud2b8\ub9ac'}); \n\nl('LoremIpsumDolor'); // returns \"LoremIpsumDolor\" if key not found\n\n"})}),"\n",(0,s.jsx)(n.p,{children:"If:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"No language set"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Label not found"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Key not registered"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Then it returns the key as-is."}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"known-issues",children:"Known Issues"}),"\n",(0,s.jsxs)(n.h3,{id:"-l-limitations",children:["\u2757 ",(0,s.jsx)(n.code,{children:"l()"})," Limitations"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"No React hooks (stateless)"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Requires manual refresh on language change"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["No component-based rendering (",(0,s.jsx)(n.code,{children:"\\n"})," \u2194 ",(0,s.jsx)(n.code,{children:"<br>"})," not supported)"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"No missing-key notifications from Lingo"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:["\ud83d\udcd8 Because ",(0,s.jsx)(n.code,{children:"l()"})," is in a non-React utility package (",(0,s.jsx)(n.code,{children:"accent"}),"), context, ",(0,s.jsx)(n.code,{children:"useEffect"}),", ",(0,s.jsx)(n.code,{children:"useState"}),", etc., are not usable. This limits dynamic capabilities."]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"-summary",children:"\u2705 Summary"}),"\n",(0,s.jsx)(n.p,{children:"The Lingo service streamlines multilingual label handling with flexible tools for setup, configuration, and real-time translation. For best results:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Ensure dependencies are set"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Load dictionary at app start"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Use ",(0,s.jsx)(n.code,{children:"l()"})," for dynamic translation"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"\ud83d\udcd8 For scalability, use the Metro Lingo Config page for centralized management and track missing keys through BaseLabel alignment strategies."}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453:(e,n,l)=>{l.d(n,{R:()=>r,x:()=>t});var s=l(6540);const i={},a=s.createContext(i);function r(e){const n=s.useContext(a);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),s.createElement(a.Provider,{value:n},e.children)}}}]);